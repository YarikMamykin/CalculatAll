<script setup lang="ts">
import { useControlPanelStore, CurrentView } from '@/store/control_panel'
import { ref } from 'vue'

const store = useControlPanelStore()
const emailIcon = ref()
const addIcon = ref()
const aboutIcon = ref()
store.$patch({
  viewsMap: new Map<number, any>([
    [CurrentView.Email, emailIcon],
    [CurrentView.Add, addIcon],
    [CurrentView.About, aboutIcon]
  ])
})
</script>

<template>
  <div id="control-panel">
    <img src="/calculatall.png" width="64px" height="64px" />
    <svg
      class="control-panel-element"
      width="32"
      height="32"
      viewBox="0 0 32 32"
      xmlns="http://www.w3.org/2000/svg"
      @click="store.setView(CurrentView.Email)"
      ref="emailIcon"
    >
      <g clip-path="url(#clip0_3054_34)">
        <path
          d="M28.0913 5.13785H3.90875C1.75357 5.13785 1.52588e-05 6.8914 1.52588e-05 9.04658V22.9534C1.52588e-05 25.1086 1.75357 26.8622 3.90875 26.8622H28.0913C30.2465 26.8622 32 25.1086 32 22.9534V9.047C32.0004 6.8914 30.2469 5.13785 28.0913 5.13785ZM26.1813 7.68785L16 14.2473L5.8187 7.68785H26.1813ZM28.0913 24.3126H3.90875C3.15947 24.3126 2.55002 23.7027 2.55002 22.9539V9.11925L15.2133 17.2623C15.2303 17.2729 15.2486 17.2801 15.266 17.2899C15.2843 17.3001 15.303 17.3099 15.3217 17.3192C15.4199 17.3698 15.521 17.4106 15.6243 17.4374C15.6349 17.4403 15.6456 17.4416 15.6562 17.4442C15.7697 17.4709 15.8844 17.4875 15.9992 17.4875H16C16.0009 17.4875 16.0017 17.4875 16.0017 17.4875C16.1165 17.4875 16.2312 17.4714 16.3447 17.4442C16.3553 17.4416 16.3659 17.4403 16.3766 17.4374C16.4798 17.4106 16.5806 17.3698 16.6792 17.3192C16.6979 17.3099 16.7166 17.3001 16.7348 17.2899C16.7523 17.2801 16.7705 17.2729 16.7875 17.2623L29.4509 9.11925V22.9534C29.4504 23.7027 28.8406 24.3126 28.0913 24.3126Z"
        />
      </g>
      <defs>
        <clipPath id="clip0_3054_34">
          <rect width="32" height="32" />
        </clipPath>
      </defs>
    </svg>

    <svg
      class="control-panel-element"
      width="32"
      height="32"
      viewBox="0 0 32 32"
      xmlns="http://www.w3.org/2000/svg"
      @click="store.setView(CurrentView.Add)"
      ref="addIcon"
    >
      <g clip-path="url(#clip0_3054_27)">
        <path
          d="M29.0856 13.0792H18.9116V2.9137C18.9116 1.30461 17.6133 0 16.0042 0C14.3951 0 13.0976 1.30461 13.0976 2.91441V13.0863H2.91864C1.30955 13.0863 0.00140967 14.3909 0.00211449 16.0007C0.00140967 16.8049 0.326329 17.5421 0.852826 18.0686C1.38003 18.5965 2.1074 18.9299 2.91089 18.9299H13.0976V29.0877C13.0976 29.8926 13.4169 30.6214 13.9441 31.1472C14.4713 31.6744 15.1965 32.0007 16.0014 32.0007C17.6098 32.0007 18.9116 30.6961 18.9116 29.0877V18.9292H29.0856C30.6947 18.9292 31.9993 17.6133 31.9986 16.0042C31.9979 14.3958 30.6933 13.0792 29.0856 13.0792Z"
        />
      </g>
      <defs>
        <clipPath id="clip0_3054_27">
          <rect width="32" height="32" />
        </clipPath>
      </defs>
    </svg>

    <svg
      class="control-panel-element"
      width="32"
      height="32"
      viewBox="0 0 32 32"
      xmlns="http://www.w3.org/2000/svg"
      @click="store.setView(CurrentView.About)"
      ref="aboutIcon"
    >
      <g clip-path="url(#clip0_3054_30)">
        <path
          d="M15.5678 0C21.103 0 26.5525 2.54922 26.5525 8.64674C26.5525 14.2697 20.1091 16.4322 18.7253 18.464C17.6864 19.9754 18.0334 22.0991 15.179 22.0991C13.3196 22.0991 12.4114 20.5867 12.4114 19.2029C12.4114 14.0534 19.9774 12.888 19.9774 8.64777C19.9774 6.31387 18.4242 4.93006 15.828 4.93006C10.2928 4.93006 12.4543 10.6367 8.26201 10.6367C6.7486 10.6367 5.4495 9.72848 5.4495 7.99974C5.44848 3.75852 10.2908 0 15.5678 0ZM15.3525 24.9065C17.2955 24.9065 18.8987 26.5046 18.8987 28.4537C18.8987 30.4029 17.2986 32.001 15.3525 32.001C13.4064 32.001 11.8052 30.4049 11.8052 28.4537C11.8052 26.5056 13.4064 24.9065 15.3525 24.9065Z"
        />
      </g>
      <defs>
        <clipPath id="clip0_3054_30">
          <rect width="32" height="32" />
        </clipPath>
      </defs>
    </svg>
  </div>
</template>
